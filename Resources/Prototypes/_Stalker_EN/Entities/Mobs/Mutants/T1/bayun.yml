- type: entity
  parent: BaseMobMutant
  id: MobMutantCat
  name: bayun
  suffix: ST, T1
  description: A cat with some psionic abilities. They're often found napping in piles of trash.
  components:
    - type: HTN
      rootTask:
        task: STCatCompound
    - type: Damageable
      damageModifierSet: STMutantT1DamageModifierSet
    - type: DamageStateVisuals #dsv might be redundant with sprite and threshholds tbh
      states:
        Alive:
          Base: alive
          BaseUnshaded: alive-overlay
        Critical:
          Base: dead
        Dead:
          Base: dead
    - type: Sprite
      drawdepth: Mobs
      sprite: _Stalker_EN/Mobs/Mutants/bayun.rsi
      layers:
      - map: [ "enum.DamageStateVisualLayers.Base" ]
        state: alive
      - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
        state: alive-overlay
        shader: unshaded
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 100
        behaviors:
        - !type:PlaySoundBehavior
          sound:
            collection: AllScreams
    - type: MobThresholds
      thresholds:
        0: Alive
        100: Dead
    - type: Butcherable
      spawned:
      - id: MutantPartCatGland
        amount: 1
      - id: STJunkTag
        maxAmount: 1
        prob: 0.01
      - id: STJunkTagWhite
        maxAmount: 1
        prob: 0.01
    - type: MeleeWeapon
      attackRate: 0.8
      angle: 30
      range: 1.2
      soundHit:
        collection: CatAttack
        params:
          variation: 0.125
      soundSwing:
        path: /Audio/_Stalker_EN/Mutants/hiss.ogg
        params:
          variation: 0.125
      animation: WeaponArcBite
      damage:
        types:
          Slash: 12
          Piercing: 4
    - type: BonusMeleeDamage
      heavyDamageMultiplier: 1.5
    - type: SolutionContainerManager # its a psy power dont worry about it
      solutions:
        melee:
          reagents:
          - ReagentId: ChloralHydrate
            Quantity: 12
    - type: MeleeChemicalInjector
      solution: melee
      transferAmount: 3
    - type: MovementSpeedModifier
      baseWalkSpeed: 2.2
      baseSprintSpeed: 4
    - type: StaminaDamageOnHit
      damage: 3
    - type: STWeight
      self: 25
    - type: STMobVariantConfig
      variants:
      - chance: 0.08
        quality: Uncommon
        nameOverride: st-mob-variant-uncommon-cat
        healthMultiplier: 1.1
        damageMultiplier: 1.1
        spriteScale: 1.05
        spriteTint: "#805030FF"
        spriteSaturation: 1.5
        spriteBrightness: 0.7
        minWeightMultiplier: 0.95
        maxWeightMultiplier: 1.25
        butcherSwaps:
          MutantPartCatGland: STMutantPartUncommonCatGland
      - chance: 0.02
        quality: Rare
        nameOverride: st-mob-variant-rare-cat
        healthMultiplier: 1.2
        damageMultiplier: 1.2
        spriteScale: 1.1
        spriteTint: "#E0D8FFFF"
        spriteSaturation: 0.15
        spriteBrightness: 1.6
        minWeightMultiplier: 1.1
        maxWeightMultiplier: 1.4
        butcherSwaps:
          MutantPartCatGland: STMutantPartRareCatGland
      - chance: 0.001
        quality: Legendary
        nameOverride: st-mob-variant-legendary-cat
        healthMultiplier: 1.3
        damageMultiplier: 1.3
        spriteScale: 1.15
        spriteTint: "#FFC040FF"
        spriteSaturation: 1.3
        spriteBrightness: 1.4
        minWeightMultiplier: 1.3
        maxWeightMultiplier: 1.6
        butcherSwaps:
          MutantPartCatGland: STMutantPartLegendaryCatGland
